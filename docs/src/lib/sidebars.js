const { SidebarTitle } = require("../components/SidebarTitle");

module.exports = {
  docsSidebar: [
    SidebarTitle("Core Documentation", { space: false }),
    ,
    "index",
    { type: "autogenerated", dirName: "philosophy" },
    "policy-language",
    {
      type: "category",
      label: "Policy Reference",
      collapsible: true,
      collapsed: true,
      items: [
        { type: "autogenerated", dirName: "policy-reference" },
      ],
    },

    "policy-testing",
    "policy-performance",
    { type: "autogenerated", dirName: "external-data" },
    // Use Cases ordered by popularity (issue #8074)
    // Ordering based on: CNCF adoption metrics, related project stars,
    // industry trends, and community usage patterns
    SidebarTitle("Use Cases"),
    
    // #1: Kubernetes - Highest adoption via OPA Gatekeeper (4.1k+ stars)
    // Most popular OPA use case in cloud-native ecosystem
    {
      type: "category",
      label: "Kubernetes",
      collapsible: true,
      collapsed: true,
      items: [
        { type: "autogenerated", dirName: "kubernetes" },
      ],
    },
    
    // #2: Envoy & Istio - Major service mesh use case
    // Widely adopted for microservices authorization (Netflix, Lyft, etc.)
    {
      type: "category",
      label: "Envoy & Istio",
      collapsible: true,
      collapsed: true,
      items: [
        { type: "autogenerated", dirName: "envoy" },
      ],
    },
    
    // #3: Terraform - Infrastructure as Code validation
    // Popular via Conftest (3.1k+ stars), widely used in DevOps
    "terraform",
    
    // #4: HTTP API Authorization - Broad applicability
    // Generic REST API authorization, many tutorials reference this
    "http-api-authorization",
    
    // #5: Docker Authorization - Container security
    // Common in containerized environments
    "docker-authorization",
    
    // #6: CI/CD - Pipeline authorization
    // Used in GitHub Actions, GitLab CI, Jenkins
    "cicd",
    
    // #7: GraphQL API Authorization - Modern API pattern
    // Growing adoption but more niche than REST
    "graphql-api-authorization",
    
    // #8: Kafka Authorization - Event streaming security
    // Popular in enterprise data platforms
    "kafka-authorization",
    
    // #9: Data Filtering - General purpose filtering
    // Foundational concept but less specific use case
    {
      type: "category",
      label: "Data Filtering",
      collapsible: true,
      collapsed: true,
      items: [
        { type: "autogenerated", dirName: "filtering" },
      ],
    },
    
    // #10: SSH and Sudo - Linux access control
    // Security-focused, smaller specialized audience
    "ssh-and-sudo-authorization",
    
    // #11: AWS CloudFormation Hooks - Newest, AWS-specific
    // Recently added feature, limited to AWS ecosystem
    "aws-cloudformation-hooks",
    SidebarTitle("Operations"),
    "cli",
    {
      type: "category",
      label: "Management APIs",
      collapsible: true,
      collapsed: true,
      items: [
        { type: "autogenerated", dirName: "management-introduction" },
        { type: "autogenerated", dirName: "management-bundles" },
        "management-decision-logs",
        "management-status",
        "management-discovery",
      ],
    },
    {
      type: "category",
      label: "Operations & Configuration",
      collapsible: true,
      collapsed: true,
      items: [
        "operations",
        "configuration",
        {
          type: "category",
          label: "Deployment",
          collapsible: true,
          collapsed: true,
          items: [
            { type: "autogenerated", dirName: "deploy" },
          ],
        },
        "monitoring",
        "security",
        "privacy",
        "storage",
      ],
    },
    {
      type: "category",
      label: "Control Plane (OCP)",
      collapsible: true,
      collapsed: true,
      items: [
        { type: "autogenerated", dirName: "ocp" },
      ],
    },
    SidebarTitle("Developers"),
    {
      type: "category",
      label: "Policy Authoring",
      collapsible: true,
      collapsed: true,
      items: [
        { type: "autogenerated", dirName: "debugging" },
        "editor-and-ide-support",
        "oauth-oidc",
        "cheatsheet",
        "style-guide",
      ],
    },
    {
      type: "category",
      label: "Errors Guide",
      collapsible: true,
      collapsed: true,
      items: [
        { type: "autogenerated", dirName: "errors" },
      ],
    },
    {
      type: "category",
      label: "Integration",
      collapsible: true,
      collapsed: true,
      items: [
        "integration",
        "extensions",
        "rest-api",
        {
          type: "category",
          label: "Alternative Runtimes",
          collapsible: true,
          collapsed: true,
          items: [
            "ir",
            "wasm",
          ],
        },
      ],
    },
    {
      type: "category",
      label: "Backwards Compatibility",
      collapsible: true,
      collapsed: true,
      items: [
        "v0-compatibility",
        { type: "autogenerated", dirName: "v0-upgrade" },
      ],
    },
    SidebarTitle("FAQ"),
    "faq",
    {
      type: "category",
      label: "Comparisons",
      collapsible: true,
      collapsed: true,
      items: [
        { type: "autogenerated", dirName: "comparisons" },
      ],
    },
    SidebarTitle("Contributing"),
    "contributing",
    {
      type: "category",
      label: "Guides",
      collapsible: true,
      collapsed: true,
      items: [
        "contrib-code",
        "contrib-docs",
        "contrib-adding-builtin-functions",
      ],
    },
    "contrib-development",
    SidebarTitle("Support"),
    {
      type: "link",
      label: "Community Support",
      href: "/community",
    },
    {
      type: "link",
      label: "Enterprise Support",
      href: "/support",
    },
  ],
  rootSidebar: [],
};
