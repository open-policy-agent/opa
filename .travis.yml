sudo: required

language: go

go:
- 1.7   # make sure to bump LATEST_GO_VERSION (below) when updating

env:
  global:
  - LATEST_GO_VERSION="1.7"
  - secure: "lcNE0kEGpIlYLuBnrCC2tn3lZ8aXNxf/fI5AN3YheR5w6sC4GO7BD7hqo6QVtDy991+bEIwri4kccB20yhZq2HVaZpKrmbKFoD8tJchgWn9HAXjlj19bmnCAgxxTOci8iiT4YGJDmWYd7Iz/z+W8FfNL2OwHqjEEkdI3EAcp3LgiBag3Z811HhcNHXAOFuYKA1I6HoaXacY+q+BbBSg7Pz0OSljnInv/J3bjCD5yyuNM58o+Mp7oGwHjWTp6VYYwOGVed7HvswpOXmTFBleAM5tBARdFxn2RZhKbkVYmvnF/BhxMCZCm4AX+2f+sj2LgfWBc6yvwHDEmUAvs11lW/T+XR6i9mTptchK3JS35G0z538uLCRLOtkEFkGW1LMSMFn8Vwo9pJ4gNsuGTY1azVtbOsOE9dXq/Aml0oc0PHeWzZRa5NzJgPHrJ8NFfs8CaG2gJ+ShlJ8WlP57QlgX/5UPLa6MGKyqq5S/+l3hNFWduaxkcXfmvTQCIUqKU2zpXl3bKoyXUvfEf7VBD8FvU0hgxSV3eGGjf/ZW0YTSk+mHWi0l1foi1g6vrRyoKm+uqSn7Ki+oVK9Is3HlPxjvuAn1UO9tvpRMb7sh5p0EDMUlrcZYtgszu6NfGhU4AqUD6grXXb39KpqHA8I4j8bW19Who2MAQ5ESaMx87I0K1Ess="
  - secure: "mjFq+FGf0vv9oknd74Xj8Mj++m6kukIC5bK8T+dxD+Fz0tiKGIM44HCmVYNylg0g9RGTbYtMf82pitRcR5vQ32v9T43zKK8+p311LSJii3t2yOJ20muW4+6CjheyRnGuF9Ph/b/Dk4Tv4SNqRZ8pZLykr0fZUcZeuvQ4TKYTC1VhM0Rij0tJHP9NpXyd5lqcFU7iGKypjnFOXsAMpQjrxOgOw464nSQ4GgTgn8Ln6pTwqrf3Y/1kPCsvsXCwtmNgaQ6be7+FDDn2APBqP4BKtVUtGdhbb1HomqHKjxJCRP5hhLVXlREC3HQActzOPjf/5jCL/BHxlambK3jhaHDsEeZzag6yFnQTQ5FpIrk7LsCqN9fLxRt/j/wo0+aHqOPfIyy5ebaVp4Pp9ZEQexjNKyQDLYs45k/BmvIjutos8Idyonykr54j0cYm3M6HmnSkM6GfblsmVJuZnkvcmSeB88WGOcmTKHvkMyt9btPMKw1NEEDz/QqLpxoWcjV18nvmTTnpcQkxiD612IAf72PIfW2upKplCOhs4jteZ6D8WsP19uVEiuKGIMDg6RYg807MsGkWAKhBrmsrZ6xagwnqN0XnBukWABFgfHj0l9f77N0zTyTL7GKvU2UFun+WQ47cQLy6cTx7SIqx7bGT+8U3kphJLb8/km6CNsj99eJGocM="

services:
- docker

after_success:
- source ./build/travis-utils.sh
- if is_travis_push_env; then docker login -u $DOCKER_USER -p $DOCKER_PASSWORD; fi
- if is_travis_push_env; then make image-quick; fi
- if is_travis_push_env; then make push; fi
- if is_travis_push_env; then make tag-latest; fi
- if is_travis_push_env; then make push-latest; fi
- if is_travis_push_env; then make perf-regression; fi
