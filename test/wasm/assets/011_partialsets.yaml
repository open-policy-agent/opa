cases:
  - note: additive
    query: data.x.p = {2,1}
    modules:
      - |
        package x
        p[1]
        p[2]
    return_code: 1
  - note: additive (negative)
    query: data.x.p = {2,1}
    modules:
      - |
        package x
        p[1]
        p[2]
        p[3]
    return_code: 0
  - note: input
    query: data.x.p = {2,1}
    modules:
      - |
        package x
        p[1] { input.x = 1 }
        p[2] { input.y = 2 }
    return_code: 1
    input: {"x": 1, "y": 2}
  - note: input (negative)
    query: data.x.p = {2,1}
    modules:
      - |
        package x
        p[1] { input.x = 1 }
        p[2] { input.y = 2 }
        p[3] { input.z = 3 }
    return_code: 1
    input: {"x": 1, "y": 2}
  - note: composites
    query: data.x.p = {[2],[1]}
    modules:
      - |
        package x
        p[[x]] { x = 1 }
        p[[y]] { y = 2 }
    return_code: 1